(()=>{"use strict";const t=t=>{document.getElementById(`${t}-modal`).style.display="block"},e=e=>{if(document.getElementById(`${e}-modal`))return void t(e);const n=j("div",{id:`${e}-modal`,classList:"popUp"}),o=j("form",{id:"form"}),i=j("span",{id:`close-${e}-modal`,classList:"close",textContent:"âœ•"});if(i.addEventListener("click",(()=>n.style.display="none")),"list"===e){const t=j("div",{id:"list-inputs"}),e=j("h3",{textContent:"New List"}),n=j("label",{for:"title-input",classList:"bold",textContent:"Title: "}),s=j("input",{type:"text",id:"title-input",name:"title"}),d=j("label",{for:"description-input",classList:"bold",textContent:"Description: "}),r=j("input",{type:"text",id:"description-input",name:"description"}),p=j("label",{for:"duedate-input",classList:"bold",textContent:"Due Date: "}),a=j("input",{type:"date",id:"duedate-input",name:"duedate"});t.append(e,n,s,d,r,p,a);const u=j("div",{id:"priority-inputs"}),m=j("label",{classList:"bold",textContent:"Priority: "}),g=j("input",{type:"radio",id:"priority-low-input",name:"priority",value:"low priority"}),y=j("label",{for:"priority-low-input",textContent:"Low"}),v=j("input",{type:"radio",id:"priority-medium-input",name:"priority",value:"medium priority"}),b=j("label",{for:"priority-medium-input",textContent:"Medium"}),L=j("input",{type:"radio",id:"priority-high-input",name:"priority",value:"high priority"}),E=j("label",{for:"priority-high-input",textContent:"High"}),f=j("label",{for:"project-select",textContent:"Project: "}),x=j("select",{id:"project-select"}),C=c();console.log("buildModal allProjects",C),C.forEach((t=>{const e=j("option",{textContent:t.projectName,value:t.projectId});x.append(e)})),u.append(m,g,y,v,b,L,E),t.append(u,f,x);const I=j("button",{id:"new-list-submit",textContent:"Add List"});t.append(I),o.append(i,t),o.addEventListener("submit",l)}else if("project"===e){const t=j("div",{id:"list-inputs"}),e=j("h3",{textContent:"New Project"}),n=j("label",{for:"name-input",classList:"bold",textContent:"Name: "}),s=j("input",{type:"text",id:"name-input",name:"name"});t.append(e,n,s);const d=j("button",{id:"new-project-submit",textContent:"Add Project"});t.append(d),o.append(i,t),o.addEventListener("submit",u)}n.append(o),document.getElementById("main").append(n)},n=t=>{const e=j("div",{classList:"project-section"});e.setAttribute("project-id",t);const n=p(t);console.log("buildProject project:",n,"id type: ",typeof t);const o=j("h3",{textContent:n.projectName});e.append(o);const i=a(t);return i&&i.forEach((t=>{const n=(t=>{const e=j("div",{classList:"list-section"});e.setAttribute("list-id",t.id);const n=j("h3",{textContent:`Task: ${t.title}`}),o=j("p",{textContent:`Details: ${t.description}`}),i=j("p",{textContent:`Deadline: ${t.dueDate}`});return e.append(n,o,i),e})(t);e.append(n)})),e},o=t=>{const e=document.getElementById("projects-container");e.innerHTML="",e.append(n(t))},i=(t,e)=>{console.log("SET object arg",e);let n=JSON.parse(localStorage.getItem(t)||"[]");console.log("SET storedArray",n),n.find((t=>t.projectId===e.projectId))||(console.log("! find"),n.push(e)),console.log("SET object",e),console.log("SET AFTER storedArray",n),localStorage.setItem(t,JSON.stringify(n))},s=t=>{const e=JSON.parse(localStorage.getItem(t)||"[]");return console.log(`GET storedArray ${t}`,e),e},d=()=>{e("list"),t("list")},l=t=>{t.preventDefault();const e=document.querySelector("#project-select"),n=Number(e.value),s=document.getElementById("title-input").value,d=document.getElementById("description-input").value,l=document.getElementById("duedate-input").value,r=document.getElementsByName("priority");(t=>{console.log("createNewList info:",t);const[e,n,o,s,d]=t,l=a(d);let r;r=l?l.length:0;const c=((t,e,n,o,i,s,d=!1)=>({id:t,title:e,description:n,dueDate:o,priority:i,projectId:s,isComplete:d}))(r,e,n,o,s,d,!1);console.log("newList: ",c),i("allLists",c)})([s,d,l,Array.from(r).find((t=>t.checked)).value,n]),o(n),document.querySelector(".popUp").remove()},r=(t,e)=>{const n=((t,e)=>({id:t,name:e}))(t,e);console.log("createNewProject newProject:",n),i("allProjects",{projectId:t,projectName:e})},c=(r(0,"default project"),()=>s("allProjects")),p=t=>{console.log("getProjectById id:",t);const e=c().find((e=>e.projectId===t));return console.log("find:",e),e},a=t=>{const e=p(t);console.log("getProjectLists id, project:",t,e);const n=s("allLists").filter((e=>e.projectId===t));return console.log("getProjectLists filtered lists",n),n},u=t=>{t.preventDefault();const e=c().length,n=document.getElementById("name-input").value;r(e,n),g(e,n),o(e),document.querySelector(".popUp").remove()},m=()=>{e("project"),t("project")},g=(t,e)=>{const n=document.getElementById("side-list"),i=j("li",{classList:"side-list-item"}),s=j("a",{classList:"side-link",textContent:e});s.addEventListener("click",(()=>o(t))),i.append(s),n.append(i)},y=()=>{const t=j("div",{id:"main"}),e=(()=>{const t=j("div",{id:"main-btn-div"}),e=(()=>{const t=j("button",{id:"new-project-btn",textContent:"New Project"});return t.addEventListener("click",m),t})(),n=(()=>{const t=j("button",{id:"new-list-btn",textContent:"New List"});return t.addEventListener("click",d),t})();return t.append(e,n),t})(),n=j("div",{id:"projects-container"});return t.append(e,n),t},j=(t,e)=>{const n=document.createElement(t);for(const t in e)n[t]=e[t];return n},v=()=>{const t=document.getElementById("container");t.innerHTML="",t.append((()=>{const t=j("div",{id:"sidebar"}),e=(()=>{const t=j("a",{id:"side-logo-link"}),e=j("img",{id:"side-logo",src:"/src/images/todo-logo.png"});return e.addEventListener("mouseover",(t=>t.target.src="/src/images/todo-logo-hover.png")),e.addEventListener("mouseout",(t=>t.target.src="/src/images/todo-logo.png")),t.append(e),t.addEventListener("click",v),t})(),n=j("div",{id:"side-title",textContent:"All Projects"}),i=(()=>{const t=j("ul",{id:"side-list"}),e=c();return console.log("buildSideList:",e),e.forEach((e=>{if(console.log("buildSideList project: ",e),e.projectName){const n=j("li",{classList:"side-list-item"}),i=j("a",{classList:"side-link",textContent:e.projectName});i.addEventListener("click",(()=>o(e.projectId))),n.append(i),t.append(n)}})),t})();return t.append(e,n,i),t})()),t.append(y()),(()=>{const t=document.getElementById("projects-container"),e=c();console.log("buildAllProjects allProjects:",e),e.forEach((e=>{t.append(n(e.projectId))}))})()};v(),document.getElementById("new-list-btn")})();